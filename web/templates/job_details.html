<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GASP | Dashboard</title>

    <link href="//fonts.googleapis.com/css?family=Open+Sans&amp;subset=latin" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/job_details.css">

    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="/static/js/job_details.js"></script>

</head>
<body>
    <div id="header">
        <h1>TOPMed Cloud Analysis Pilot </h1>
        <h2>&nbsp;Powered By GASP</h2>
    </div>
    <svg id="back_arrow" version="1.1">
        <g transform="scale(2.0)">
            <path d="m 1.731867,9.9956035 c 2e-5,0.7560365 0.09966,1.4842425 0.298902,2.1846165 0.199287,0.700357 0.477675,1.358232 0.835165,1.973627 0.357528,0.615372 0.786831,1.175079 1.287912,1.67912 0.501116,0.504017 1.057891,0.936251 1.67033,1.296703 0.612469,0.360426 1.270344,0.640279 1.973627,0.839561 0.703309,0.199253 1.432978,0.298886 2.18901,0.298901 0.756055,-1.5e-5 1.484259,-0.09965 2.184616,-0.298901 0.700375,-0.199282 1.355319,-0.479135 1.964834,-0.839561 0.609531,-0.360452 1.167773,-0.792686 1.674726,-1.296703 0.506965,-0.504041 0.940664,-1.063748 1.301099,-1.67912 0.360444,-0.615395 0.641762,-1.27327 0.843956,-1.973627 0.202201,-0.700374 0.3033,-1.42858 0.303296,-2.1846165 4e-6,-0.756049 -0.09963,-1.484254 -0.298901,-2.184615 -0.199263,-0.70037 -0.479116,-1.356779 -0.83956,-1.969231 -0.360435,-0.612454 -0.792669,-1.169231 -1.296704,-1.67033 -0.504022,-0.501098 -1.063729,-0.931867 -1.67912,-1.292307 -0.615377,-0.360439 -1.273251,-0.640292 -1.973626,-0.839561 -0.700357,-0.199264 -1.428561,-0.298899 -2.184616,-0.2989 -0.756032,10e-7 -1.485701,0.09964 -2.18901,0.2989 -0.703283,0.199269 -1.361158,0.477658 -1.973627,0.835165 -0.612439,0.357511 -1.169214,0.786814 -1.67033,1.287912 -0.501081,0.501099 -0.930384,1.05934 -1.287912,1.674726 -0.35749,0.615382 -0.635878,1.273256 -0.835165,1.973626 -0.199247,0.700361 -0.298882,1.428566 -0.298902,2.184615 z m 2.769231,0.035172 0,-0.035172 4.026374,-4.210988 2.918682,0 -3.068132,3.138462 6.672527,0 0,2.1802195 -6.672527,0 3.068132,3.138461 -2.918682,0 z M 0,9.9868115 c 2.0999981e-5,-0.90843 0.120171,-1.784619 0.360439,-2.628572 0.240315,-0.843958 0.58024,-1.636632 1.01978,-2.378021 0.43958,-0.741393 0.964123,-1.416851 1.573627,-2.026375 C 3.563387,2.3443225 4.238845,1.8197795 4.980218,1.3802185 5.721627,0.94065953 6.515765,0.60073453 7.362637,0.36043753 8.209538,0.12014953 9.087192,2.5255985e-6 9.995604,-4.7440151e-7 10.90404,2.5255985e-6 11.781694,0.12015453 12.628571,0.36043853 c 0.846895,0.240297 1.641033,0.577292 2.382418,1.01098997 0.741398,0.433701 1.41832,0.955312 2.030769,1.564835 0.612458,0.609524 1.138465,1.284982 1.578022,2.026374 0.439563,0.74139 0.77949,1.535528 1.01978,2.382416 0.240295,0.846883 0.360442,1.727468 0.36044,2.641759 2e-6,0.9084175 -0.120145,1.7860735 -0.36044,2.6329675 -0.24029,0.846877 -0.580217,1.641015 -1.01978,2.382417 -0.439557,0.74138 -0.965564,1.418303 -1.578022,2.03077 -0.612449,0.61244 -1.289371,1.138447 -2.030769,1.578022 -0.741385,0.439545 -1.535523,0.780937 -2.382418,1.024176 C 11.781694,19.878372 10.90404,19.999984 9.995604,20 9.087192,19.999984 8.209538,19.879837 7.362637,19.63956 6.515765,19.399252 5.721627,19.06079 4.980218,18.624176 4.238845,18.187531 3.563387,17.66299 2.953846,17.050549 2.344342,16.438082 1.819799,15.761159 1.380219,15.019779 0.940679,14.278377 0.600754,13.482774 0.360439,12.632967 0.120168,11.783143 2.0999981e-5,10.901091 0,9.9868125 z"/>
        </g>
    </svg>
    <div id="content">
        <div class="section">
            <div class="section-title">
                <h2>Job Details</h2>
                {% if job.status != "succeeded" and job.status != "failed" and job.status != "cancelled" and job.status != "cancel_requested" %}
                <button name="cancel_job">Cancel Job</button>
                {% endif %}
            </div>
            <table id="job_details_table">
                <tr>
                    <th>Job Name</th>
                    <td>{{ job.name }}</td>
                </tr>
                <tr>
                    <th>Status</th>
                    <td>{{ job.status }}</td>
                </tr>
                {% if job.error_message %}
                <tr>
                    <th>Error Message</th>
                    <td>{{ job.error_message }}</td>
                </tr>
                {% endif %}
                <tr>
                    <th>Date Created</th>
                    <td>{{ job.creation_date }}</td>
                </tr>
                <tr>
                    <th>Last Updated</th>
                    <td>{{ job.modified_date }}</td>
                </tr>
            </table>
        </div>

        {% if job.status == "succeeded" %}
        <form class="section" action="/jobs/{{ job.id }}/output">
            <button type="submit">Download Output</button>
        </form>

        <div class="section">

            <ul class="tabs">
                <li class="active" rel="tab1">Manhattan</li>
                <li rel="tab2">QQPlot</li>
            </ul>
            <div class="tab-container">

                <div id="tab1" class="tab-content">
                    <object data="/jobs/{{ job.id }}/plots/tmp-manhattan" type="application/pdf" height="600px" width="100%">
                        alt : <a href="/jobs/{{ job.id }}/plots/tmp-manhattan">manhattan.pdf</a>
                    </object>
                </div>
                <div id="tab2" class="tab-content">
                    <object data="/jobs/{{ job.id }}/plots/tmp-qq" type="application/pdf" height="600px" width="100%">
                        alt : <a href="/jobs/{{ job.id }}/plots/tmp-manhattan">qq.pdf</a>
                    </object>
                </div>

            </div>

        </div>
        {% endif %}

    </div>

    <div id="footer">

    </div>
</body>
</html>